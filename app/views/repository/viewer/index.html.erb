<div id="uv" class="uv"></div>

<script>
  var myUV;
  window.addEventListener('uvLoaded', function (e) {
    url = new URL(document.URL);

    myUV = createUV('#uv', {
      iiifResourceUri: url.searchParams.get('manifest'),
      configUri: 'uv-config.json',
      collectionIndex: Number(url.searchParams.get('c', 0)),
      manifestIndex: Number(url.searchParams.get('m', 0)),
      sequenceIndex: Number(url.searchParams.get('s', 0)),
      canvasIndex: Number(url.searchParams.get('cv', 0)),
      rangeId: url.searchParams.get('rid', 0),
      rotation: Number(url.searchParams.get('r', 0)),
      xywh: url.searchParams.get('xywh', ''),
      embedded: true
    }, new UV.URLDataProvider());
    myUV.on("created", function(obj) {
      console.log('parsed metadata', myUV.extension.helper.manifest.getMetadata());
      console.log('raw jsonld', myUV.extension.helper.manifest.__jsonld);
    });
  }, false);
</script>
